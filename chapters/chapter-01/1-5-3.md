**<p align="right">Node.js Unleashed: Full-Stack Server Solutions That Shine</p>**

[[Start]](../Introduction.md) → **[ Node Fundamentals ]** → [[Express Mastery]](#express) → [[MongoDB Power]](#mongodb) → [[YourDreamProject LIVE]](#project)

## Node.js Fundamentals
* [What is Node.js and why use it?](1-1.md)
* [Event-driven, non-blocking I/O, and single-threaded model](1-2.md)
* [Modules, npm (Node Package Manager)](1-3.md)
* [Basic HTTP server](1-4.md)
* [Mini-Projects](#Mini-Projects)

### Mini-Projects

[Dream App Welcome Server](1-5.md) || [Event-Driven Order Tracker](1-5-2.md) || **File Logger Module** || [MongoDB Power](#mongodb) || [YourDreamProject LIVE](#project)

**Mini Project 3: "File Logger Module"**<br /> 
(*Section: Modules, npm*)

**Goal:** Build a custom module to log messages to a file and use npm to enhance it.

**What to do:**
- Create a `logger.js` module that exports a `log` function to append messages to a `log.txt` file using `fs` (asynchronously).
- In your main `server.js`, set up an HTTP server that uses the `logger` module to log each request (e.g., "Visited / at [time]").
- Initialize the project with `npm init` and install `npm install chalk` to add colored console output (e.g., green for successful logs).
- Import and use `chalk` in your server to make logs more readable.

**Let's code:**
1. Set up the Project
   - Open a terminal/command prompt.
   - Create a new project folder:
     ```bash
     	mkdir file-logger
	cd file-logger
     ```
   - Initialize npm and install the required dependencies:
     ```bash
     	npm init -y
	npm install chalk
     ```
2. Write the Code
   ```javascript
      // Import the http module to create the server
      const http = require('http');

      // Define the port where the server will listen
      const port = 3000;

      // Create the HTTP server
      const server = http.createServer((req, res) => {
        // If the request is for the /order route
        if (req.url === '/order' && req.method === 'GET') {
          // Immediately respond that the order is being prepared
          res.writeHead(200, { 'Content-Type': 'text/plain' });
          res.write('Order received, preparing...');
          res.end();

          // Simulate a delayed task (cooking) with a timeout
          setTimeout(() => {
            console.log('Order ready!');
          }, 2000);
        } else {
          // If the route is not /order, return a 404
          res.writeHead(404, { 'Content-Type': 'text/plain' });
          res.write('Page not found');
          res.end();
        }
      });

      // Start the server and listen for incoming requests on port 3000
      server.listen(port, () => {
        console.log(`Server is running on http://localhost:${port}`);
      });
   ```
3. Run the Server
   - Open a terminal or command prompt.
   - Navigate to the directory where you created the server.js file.
   - Run the server by executing:
   ```bash 
	   node server.js
   ```
   You should see the following message:
   ```arduino
       Server is running on http://localhost:3000
   ```
4. Test the Server<br />
   - Open your web browser and visit `http://localhost:3000/order`. You should see the message:
   ```vbnet
	Order received, preparing...
   ```   
   (This is the immediate response.)
   
   - After 2 seconds, you should see the following in your terminal log:
   ```swift
	Order ready!
   ```
   - Open multiple browser tabs and visit `http://localhost:3000/order` in each one. Each time you refresh or visit the `/order` route, you should see the immediate response in all tabs. The terminal will log "Order ready!" for each order after a 2-second delay, proving the server can handle multiple requests without blocking.

This project reinforces modularity (custom module), the CommonJS system (`require`/`module.exports`), and npm usage, while tying into Node’s non-blocking I/O with `fs`.

[Continue to Project 4](1-5-4.md)
